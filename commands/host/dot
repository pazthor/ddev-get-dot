#!/bin/bash

## #ddev-generated
## Description: executes a script from tools/scripts/laravel
## Usage: dot
## Example: ddev dot
## ExecRaw: true

# Configuration
readonly SCRIPT_DIR="/home/pastor/PhpstormProjects/go-roam/tools/scripts/laravel"

# Function to get script names
get_script_names() {
    find "$SCRIPT_DIR" -type f -exec basename {} \;
}

# Function to get full path of a script
get_script_path() {
    local script_name="$1"
    echo "$SCRIPT_DIR/$script_name"
}

# Main function to run fzf interface
run_script_selector() {
    get_script_names | \
    fzf \
    --preview="cat '$SCRIPT_DIR/{}'" \
    --preview-window="right:60%" \
    --header="Select a script to execute" \
    --prompt="Script > " \
    --pointer=">" \
    --marker="*" \
    --bind="ctrl-space:toggle-preview" \
    | xargs -I {} bash -c "bash '$SCRIPT_DIR/{}'"
}

# Run the script selector
run_script_selector



