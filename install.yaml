# install.yaml for pazthor/ddev-get-dot
# https://ddev.readthedocs.io/en/stable/users/extend/additional-services/#sections-and-features-of-ddev-get-add-on-install

name: pazthor/ddev-get-dot

description: "Installs the 'dot' command and ensures fzf is present via a post-start hook"

# Files to copy into the projectâ€™s .ddev directory
project_files:
  # config.ddev-get-dot.yaml contains web_environment and hooks
  - source: config.ddev-get-dot.yaml
    target: .ddev/config.yaml
    merge: true

  # Copy the 'dot' launcher into .ddev/commands/web/dot
  - source: commands/web/dot
    target: .ddev/commands/web/dot

# Files to copy into the global .ddev directory (not used here)
global_files: []

ddev_version_constraint: ""

dependencies: []

# Actions to run after the add-on is installed (in .ddev directory)
post_install_actions:
  # Ensure the 'dot' script is executable
  - "chmod +x .ddev/commands/web/dot"

# Actions to run when the add-on is removed
removal_actions:
  # Remove the 'dot' command if it was unmodified
  - "rm -f .ddev/commands/web/dot"